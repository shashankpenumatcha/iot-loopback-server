{"version":3,"sources":["./src/app/admin/admin.component.html","./src/app/admin/register/register-board/register-board.component.html","./src/app/admin/register/register-device/register-device.component.html","./src/app/admin/admin-routing.module.ts","./src/app/admin/admin.component.css","./src/app/admin/admin.component.ts","./src/app/admin/admin.module.ts","./src/app/admin/register/register-board/register-board.component.css","./src/app/admin/register/register-board/register-board.component.ts","./src/app/admin/register/register-device/register-device.component.css","./src/app/admin/register/register-device/register-device.component.ts"],"names":[],"mappings":"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","file":"admin-admin-module-es2015.js","sourcesContent":["export default \"<p>admin works!</p>\\n\\n<button [routerLink]=\\\"['register/device']\\\">Register Device</button>\\n<button [routerLink]=\\\"['register/board']\\\">Register Board</button>\\n\\n\"","export default \"<p>Register Board</p>\\n\\n<form>\\n  <div>Device Id</div>\\n  <input type=\\\"text\\\" name=\\\"deviceId\\\" [(ngModel)]=\\\"deviceId\\\" />\\n  <button [disabled]=\\\"!deviceId || !deviceId.length\\\" type=\\\"submit\\\" (click)=\\\"verify()\\\">Verify Device</button>\\n</form><br/>\\n<button (click)=\\\"register()\\\" *ngIf=\\\"device\\\">Add Board</button><br/>\\n{{message}}<br/>\\n<pre>{{device|json}}</pre><br/>\\n\\n\\n\"","export default \"<p>Register Device</p>\\n<form>\\n  <div>Device Id</div>\\n  <input type=\\\"text\\\" name=\\\"deviceId\\\" [(ngModel)]=\\\"deviceId\\\" />\\n  <button [disabled]=\\\"!deviceId || !deviceId.length\\\" type=\\\"submit\\\" (click)=\\\"register()\\\">Add Device</button>\\n</form>\\n{{message}}\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AdminComponent } from './admin.component';\nimport { Chowkidaar } from '../blocks/chowkidaar';\nimport { RegisterDeviceComponent } from './register/register-device/register-device.component';\nimport { RegisterBoardComponent } from './register/register-board/register-board.component';\n\n\nconst routes: Routes = [\n                        {\n                          path: '',\n                          component: AdminComponent,\n                          canActivate: [Chowkidaar],\n                          data: {authorities: ['authenticated', 'admin']}\n                        }, {\n                          path: 'register/device',\n                          component: RegisterDeviceComponent,\n                          canActivate: [Chowkidaar],\n                          data: {authorities: ['authenticated', 'admin']}\n                        }, {\n                          path: 'register/board',\n                          component: RegisterBoardComponent,\n                          canActivate: [Chowkidaar],\n                          data: {authorities: ['authenticated', 'admin']}\n                        }\n                      ];\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AdminRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZG1pbi9hZG1pbi5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-admin',\n  templateUrl: './admin.component.html',\n  styleUrls: ['./admin.component.css']\n})\nexport class AdminComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AdminRoutingModule } from './admin-routing.module';\nimport { AdminComponent } from './admin.component';\nimport { RegisterDeviceComponent } from './register/register-device/register-device.component';\nimport { RegisterBoardComponent } from './register/register-board/register-board.component';\nimport { FormsModule } from '@angular/forms';\n\n\n\n@NgModule({\n  declarations: [AdminComponent, RegisterDeviceComponent, RegisterBoardComponent],\n  imports: [\n    CommonModule,\n    AdminRoutingModule,\n    FormsModule\n  ]\n})\nexport class AdminModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZG1pbi9yZWdpc3Rlci9yZWdpc3Rlci1ib2FyZC9yZWdpc3Rlci1ib2FyZC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FetchData } from 'src/app/shared/services/fetch-data';\n\n@Component({\n  selector: 'app-register-board',\n  templateUrl: './register-board.component.html',\n  styleUrls: ['./register-board.component.css']\n})\nexport class RegisterBoardComponent implements OnInit {\n\n  deviceId: string;\n  device: any;\n  message: any = null;\n\n  constructor(private fetchData: FetchData) { }\n\n  ngOnInit() {\n  }\n\n  register() {\n    this.message = null;\n    if (this.device && this.device.id) {\n      this.fetchData.registerBoard({ deviceId : this.device.id}).subscribe(res => {\n        if (res && res.id) {\n          this.message = `board added - ${res.id}`;\n        }\n        if ( !this.device.boards) {\n          this.device.baords = [];\n        }\n        this.device.boards.unshift(res);\n      }, e => {\n        this.message = `Error while adding board`;\n      });\n    }\n  }\n\n  verify() {\n    this.message = null;\n    if (this.deviceId) {\n        this.fetchData.getDeviceByDeviceId(this.deviceId).subscribe(res => {\n          if (res && res.id) {\n            this.deviceId = null;\n            this.device = res;\n          }\n        }, e => {\n          this.message = 'error while fetching device';\n          this.device = null;\n        });\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZG1pbi9yZWdpc3Rlci9yZWdpc3Rlci1kZXZpY2UvcmVnaXN0ZXItZGV2aWNlLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FetchData } from 'src/app/shared/services/fetch-data';\n\n@Component({\n  selector: 'app-register-device',\n  templateUrl: './register-device.component.html',\n  styleUrls: ['./register-device.component.css']\n})\nexport class RegisterDeviceComponent implements OnInit {\n\n  constructor(private fetchData: FetchData) { }\n\n  deviceId: string;\n  boards: any = [];\n  message: any = null;\n\n  ngOnInit() {\n  }\n\n  register() {\n    this.message = null;\n    if (this.deviceId) {\n      this.fetchData.postDevice({deviceId: this.deviceId, boards: this.boards}).subscribe(res => {\n        console.log(res);\n        this.deviceId = null;\n        this.message = `device added succesfully - ` + res.deviceId;\n      }, e => {\n        this.message = (e && e.error && e.error.error && e.error.error.message) ? e.error.error.message : 'error while adding device';\n      });\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}
