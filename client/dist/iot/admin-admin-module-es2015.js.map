{"version":3,"sources":["./src/app/admin/admin.component.html","./src/app/admin/register/register-board/register-board.component.html","./src/app/admin/register/register-device/register-device.component.html","./src/app/admin/admin-routing.module.ts","./src/app/admin/admin.component.css","./src/app/admin/admin.component.ts","./src/app/admin/admin.module.ts","./src/app/admin/register/register-board/register-board.component.css","./src/app/admin/register/register-board/register-board.component.ts","./src/app/admin/register/register-device/register-device.component.css","./src/app/admin/register/register-device/register-device.component.ts"],"names":[],"mappings":"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","file":"admin-admin-module-es2015.js","sourcesContent":["export default \"<p>admin works!</p>\\r\\n\\r\\n<button [routerLink]=\\\"['register/device']\\\">Register Device</button>\\r\\n<button [routerLink]=\\\"['register/board']\\\">Register Board</button>\\r\\n\\r\\n\"","export default \"<p>Register Board</p>\\r\\n\\r\\n<form>\\r\\n  <div>Device Id</div>\\r\\n  <input type=\\\"text\\\" name=\\\"deviceId\\\" [(ngModel)]=\\\"deviceId\\\" />\\r\\n  <button [disabled]=\\\"!deviceId || !deviceId.length\\\" type=\\\"submit\\\" (click)=\\\"verify()\\\">Verify Device</button>\\r\\n</form><br/>\\r\\n<button (click)=\\\"register()\\\" *ngIf=\\\"device\\\">Add Board</button><br/>\\r\\n{{message}}<br/>\\r\\n<pre>{{device|json}}</pre><br/>\\r\\n\\r\\n\\r\\n\"","export default \"<p>Register Device</p>\\r\\n<form>\\r\\n  <div>Device Id</div>\\r\\n  <input type=\\\"text\\\" name=\\\"deviceId\\\" [(ngModel)]=\\\"deviceId\\\" />\\r\\n  <button [disabled]=\\\"!deviceId || !deviceId.length\\\" type=\\\"submit\\\" (click)=\\\"register()\\\">Add Device</button>\\r\\n</form>\\r\\n{{message}}\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AdminComponent } from './admin.component';\r\nimport { Chowkidaar } from '../blocks/chowkidaar';\r\nimport { RegisterDeviceComponent } from './register/register-device/register-device.component';\r\nimport { RegisterBoardComponent } from './register/register-board/register-board.component';\r\n\r\n\r\nconst routes: Routes = [\r\n                        {\r\n                          path: '',\r\n                          component: AdminComponent,\r\n                          canActivate: [Chowkidaar],\r\n                          data: {authorities: ['authenticated', 'admin']}\r\n                        }, {\r\n                          path: 'register/device',\r\n                          component: RegisterDeviceComponent,\r\n                          canActivate: [Chowkidaar],\r\n                          data: {authorities: ['authenticated', 'admin']}\r\n                        }, {\r\n                          path: 'register/board',\r\n                          component: RegisterBoardComponent,\r\n                          canActivate: [Chowkidaar],\r\n                          data: {authorities: ['authenticated', 'admin']}\r\n                        }\r\n                      ];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdminRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL2FkbWluLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-admin',\r\n  templateUrl: './admin.component.html',\r\n  styleUrls: ['./admin.component.css']\r\n})\r\nexport class AdminComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AdminRoutingModule } from './admin-routing.module';\r\nimport { AdminComponent } from './admin.component';\r\nimport { RegisterDeviceComponent } from './register/register-device/register-device.component';\r\nimport { RegisterBoardComponent } from './register/register-board/register-board.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [AdminComponent, RegisterDeviceComponent, RegisterBoardComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AdminRoutingModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class AdminModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3JlZ2lzdGVyL3JlZ2lzdGVyLWJvYXJkL3JlZ2lzdGVyLWJvYXJkLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FetchData } from 'src/app/shared/services/fetch-data';\r\n\r\n@Component({\r\n  selector: 'app-register-board',\r\n  templateUrl: './register-board.component.html',\r\n  styleUrls: ['./register-board.component.css']\r\n})\r\nexport class RegisterBoardComponent implements OnInit {\r\n\r\n  deviceId: string;\r\n  device: any;\r\n  message: any = null;\r\n\r\n  constructor(private fetchData: FetchData) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  register() {\r\n    this.message = null;\r\n    if (this.device && this.device.id) {\r\n      this.fetchData.registerBoard({ deviceId : this.device.id}).subscribe(res => {\r\n        if (res && res.id) {\r\n          this.message = `board added - ${res.id}`;\r\n        }\r\n        if ( !this.device.boards) {\r\n          this.device.baords = [];\r\n        }\r\n        this.device.boards.unshift(res);\r\n      }, e => {\r\n        this.message = `Error while adding board`;\r\n      });\r\n    }\r\n  }\r\n\r\n  verify() {\r\n    this.message = null;\r\n    if (this.deviceId) {\r\n        this.fetchData.getDeviceByDeviceId(this.deviceId).subscribe(res => {\r\n          if (res && res.id) {\r\n            this.deviceId = null;\r\n            this.device = res;\r\n          }\r\n        }, e => {\r\n          this.message = 'error while fetching device';\r\n          this.device = null;\r\n        });\r\n    }\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3JlZ2lzdGVyL3JlZ2lzdGVyLWRldmljZS9yZWdpc3Rlci1kZXZpY2UuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FetchData } from 'src/app/shared/services/fetch-data';\r\n\r\n@Component({\r\n  selector: 'app-register-device',\r\n  templateUrl: './register-device.component.html',\r\n  styleUrls: ['./register-device.component.css']\r\n})\r\nexport class RegisterDeviceComponent implements OnInit {\r\n\r\n  constructor(private fetchData: FetchData) { }\r\n\r\n  deviceId: string;\r\n  boards: any = [];\r\n  message: any = null;\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  register() {\r\n    this.message = null;\r\n    if (this.deviceId) {\r\n      this.fetchData.postDevice({deviceId: this.deviceId, boards: this.boards}).subscribe(res => {\r\n        console.log(res);\r\n        this.deviceId = null;\r\n        this.message = `device added succesfully - ` + res.deviceId;\r\n      }, e => {\r\n        this.message = (e && e.error && e.error.error && e.error.error.message) ? e.error.error.message : 'error while adding device';\r\n      });\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}