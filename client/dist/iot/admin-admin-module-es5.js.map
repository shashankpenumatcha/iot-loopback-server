{"version":3,"sources":["src/app/admin/admin.component.html","src/app/admin/register/register-board/register-board.component.html","src/app/admin/register/register-device/register-device.component.html","src/app/admin/admin-routing.module.ts","src/app/admin/admin.component.css","src/app/admin/admin.component.ts","src/app/admin/admin.module.ts","src/app/admin/register/register-board/register-board.component.css","src/app/admin/register/register-board/register-board.component.ts","src/app/admin/register/register-device/register-device.component.css","src/app/admin/register/register-device/register-device.component.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<p>admin works!</p>\\n\\n<button [routerLink]=\\\"['register/device']\\\">Register Device</button>\\n<button [routerLink]=\\\"['register/board']\\\">Register Board</button>\\n\\n\"","export default \"<p>Register Board</p>\\n\\n<form>\\n  <div>Device Id</div>\\n  <input type=\\\"text\\\" name=\\\"deviceId\\\" [(ngModel)]=\\\"deviceId\\\" />\\n  <button [disabled]=\\\"!deviceId || !deviceId.length\\\" type=\\\"submit\\\" (click)=\\\"verify()\\\">Verify Device</button>\\n</form><br/>\\n<button (click)=\\\"register()\\\" *ngIf=\\\"device\\\">Add Board</button><br/>\\n{{message}}<br/>\\n<pre>{{device|json}}</pre><br/>\\n\\n\\n\"","export default \"<p>Register Device</p>\\n<form>\\n  <div>Device Id</div>\\n  <input type=\\\"text\\\" name=\\\"deviceId\\\" [(ngModel)]=\\\"deviceId\\\" />\\n  <button [disabled]=\\\"!deviceId || !deviceId.length\\\" type=\\\"submit\\\" (click)=\\\"register()\\\">Add Device</button>\\n</form>\\n{{message}}\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AdminComponent } from './admin.component';\nimport { Chowkidaar } from '../blocks/chowkidaar';\nimport { RegisterDeviceComponent } from './register/register-device/register-device.component';\nimport { RegisterBoardComponent } from './register/register-board/register-board.component';\n\n\nconst routes: Routes = [\n                        {\n                          path: '',\n                          component: AdminComponent,\n                          canActivate: [Chowkidaar],\n                          data: {authorities: ['authenticated', 'admin']}\n                        }, {\n                          path: 'register/device',\n                          component: RegisterDeviceComponent,\n                          canActivate: [Chowkidaar],\n                          data: {authorities: ['authenticated', 'admin']}\n                        }, {\n                          path: 'register/board',\n                          component: RegisterBoardComponent,\n                          canActivate: [Chowkidaar],\n                          data: {authorities: ['authenticated', 'admin']}\n                        }\n                      ];\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AdminRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZG1pbi9hZG1pbi5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-admin',\n  templateUrl: './admin.component.html',\n  styleUrls: ['./admin.component.css']\n})\nexport class AdminComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AdminRoutingModule } from './admin-routing.module';\nimport { AdminComponent } from './admin.component';\nimport { RegisterDeviceComponent } from './register/register-device/register-device.component';\nimport { RegisterBoardComponent } from './register/register-board/register-board.component';\nimport { FormsModule } from '@angular/forms';\n\n\n\n@NgModule({\n  declarations: [AdminComponent, RegisterDeviceComponent, RegisterBoardComponent],\n  imports: [\n    CommonModule,\n    AdminRoutingModule,\n    FormsModule\n  ]\n})\nexport class AdminModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZG1pbi9yZWdpc3Rlci9yZWdpc3Rlci1ib2FyZC9yZWdpc3Rlci1ib2FyZC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FetchData } from 'src/app/shared/services/fetch-data';\n\n@Component({\n  selector: 'app-register-board',\n  templateUrl: './register-board.component.html',\n  styleUrls: ['./register-board.component.css']\n})\nexport class RegisterBoardComponent implements OnInit {\n\n  deviceId: string;\n  device: any;\n  message: any = null;\n\n  constructor(private fetchData: FetchData) { }\n\n  ngOnInit() {\n  }\n\n  register() {\n    this.message = null;\n    if (this.device && this.device.id) {\n      this.fetchData.registerBoard({ deviceId : this.device.id}).subscribe(res => {\n        if (res && res.id) {\n          this.message = `board added - ${res.id}`;\n        }\n        if ( !this.device.boards) {\n          this.device.baords = [];\n        }\n        this.device.boards.unshift(res);\n      }, e => {\n        this.message = `Error while adding board`;\n      });\n    }\n  }\n\n  verify() {\n    this.message = null;\n    if (this.deviceId) {\n        this.fetchData.getDeviceByDeviceId(this.deviceId).subscribe(res => {\n          if (res && res.id) {\n            this.deviceId = null;\n            this.device = res;\n          }\n        }, e => {\n          this.message = 'error while fetching device';\n          this.device = null;\n        });\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZG1pbi9yZWdpc3Rlci9yZWdpc3Rlci1kZXZpY2UvcmVnaXN0ZXItZGV2aWNlLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FetchData } from 'src/app/shared/services/fetch-data';\n\n@Component({\n  selector: 'app-register-device',\n  templateUrl: './register-device.component.html',\n  styleUrls: ['./register-device.component.css']\n})\nexport class RegisterDeviceComponent implements OnInit {\n\n  constructor(private fetchData: FetchData) { }\n\n  deviceId: string;\n  boards: any = [];\n  message: any = null;\n\n  ngOnInit() {\n  }\n\n  register() {\n    this.message = null;\n    if (this.deviceId) {\n      this.fetchData.postDevice({deviceId: this.deviceId, boards: this.boards}).subscribe(res => {\n        console.log(res);\n        this.deviceId = null;\n        this.message = `device added succesfully - ` + res.deviceId;\n      }, e => {\n        this.message = (e && e.error && e.error.error && e.error.error.message) ? e.error.error.message : 'error while adding device';\n      });\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}
