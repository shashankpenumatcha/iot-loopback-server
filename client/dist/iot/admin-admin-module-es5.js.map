{"version":3,"sources":["src/app/admin/admin.component.html","src/app/admin/register/register-board/register-board.component.html","src/app/admin/register/register-device/register-device.component.html","src/app/admin/admin-routing.module.ts","src/app/admin/admin.component.css","src/app/admin/admin.component.ts","src/app/admin/admin.module.ts","src/app/admin/register/register-board/register-board.component.css","src/app/admin/register/register-board/register-board.component.ts","src/app/admin/register/register-device/register-device.component.css","src/app/admin/register/register-device/register-device.component.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<p>admin works!</p>\\r\\n\\r\\n<button [routerLink]=\\\"['register/device']\\\">Register Device</button>\\r\\n<button [routerLink]=\\\"['register/board']\\\">Register Board</button>\\r\\n\\r\\n\"","export default \"<p>Register Board</p>\\r\\n\\r\\n<form>\\r\\n  <div>Device Id</div>\\r\\n  <input type=\\\"text\\\" name=\\\"deviceId\\\" [(ngModel)]=\\\"deviceId\\\" />\\r\\n  <button [disabled]=\\\"!deviceId || !deviceId.length\\\" type=\\\"submit\\\" (click)=\\\"verify()\\\">Verify Device</button>\\r\\n</form><br/>\\r\\n<button (click)=\\\"register()\\\" *ngIf=\\\"device\\\">Add Board</button><br/>\\r\\n{{message}}<br/>\\r\\n<pre>{{device|json}}</pre><br/>\\r\\n\\r\\n\\r\\n\"","export default \"<p>Register Device</p>\\r\\n<form>\\r\\n  <div>Device Id</div>\\r\\n  <input type=\\\"text\\\" name=\\\"deviceId\\\" [(ngModel)]=\\\"deviceId\\\" />\\r\\n  <button [disabled]=\\\"!deviceId || !deviceId.length\\\" type=\\\"submit\\\" (click)=\\\"register()\\\">Add Device</button>\\r\\n</form>\\r\\n{{message}}\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AdminComponent } from './admin.component';\r\nimport { Chowkidaar } from '../blocks/chowkidaar';\r\nimport { RegisterDeviceComponent } from './register/register-device/register-device.component';\r\nimport { RegisterBoardComponent } from './register/register-board/register-board.component';\r\n\r\n\r\nconst routes: Routes = [\r\n                        {\r\n                          path: '',\r\n                          component: AdminComponent,\r\n                          canActivate: [Chowkidaar],\r\n                          data: {authorities: ['authenticated', 'admin']}\r\n                        }, {\r\n                          path: 'register/device',\r\n                          component: RegisterDeviceComponent,\r\n                          canActivate: [Chowkidaar],\r\n                          data: {authorities: ['authenticated', 'admin']}\r\n                        }, {\r\n                          path: 'register/board',\r\n                          component: RegisterBoardComponent,\r\n                          canActivate: [Chowkidaar],\r\n                          data: {authorities: ['authenticated', 'admin']}\r\n                        }\r\n                      ];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdminRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL2FkbWluLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-admin',\r\n  templateUrl: './admin.component.html',\r\n  styleUrls: ['./admin.component.css']\r\n})\r\nexport class AdminComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AdminRoutingModule } from './admin-routing.module';\r\nimport { AdminComponent } from './admin.component';\r\nimport { RegisterDeviceComponent } from './register/register-device/register-device.component';\r\nimport { RegisterBoardComponent } from './register/register-board/register-board.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [AdminComponent, RegisterDeviceComponent, RegisterBoardComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AdminRoutingModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class AdminModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3JlZ2lzdGVyL3JlZ2lzdGVyLWJvYXJkL3JlZ2lzdGVyLWJvYXJkLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FetchData } from 'src/app/shared/services/fetch-data';\r\n\r\n@Component({\r\n  selector: 'app-register-board',\r\n  templateUrl: './register-board.component.html',\r\n  styleUrls: ['./register-board.component.css']\r\n})\r\nexport class RegisterBoardComponent implements OnInit {\r\n\r\n  deviceId: string;\r\n  device: any;\r\n  message: any = null;\r\n\r\n  constructor(private fetchData: FetchData) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  register() {\r\n    this.message = null;\r\n    if (this.device && this.device.id) {\r\n      this.fetchData.registerBoard({ deviceId : this.device.id}).subscribe(res => {\r\n        if (res && res.id) {\r\n          this.message = `board added - ${res.id}`;\r\n        }\r\n        if ( !this.device.boards) {\r\n          this.device.baords = [];\r\n        }\r\n        this.device.boards.unshift(res);\r\n      }, e => {\r\n        this.message = `Error while adding board`;\r\n      });\r\n    }\r\n  }\r\n\r\n  verify() {\r\n    this.message = null;\r\n    if (this.deviceId) {\r\n        this.fetchData.getDeviceByDeviceId(this.deviceId).subscribe(res => {\r\n          if (res && res.id) {\r\n            this.deviceId = null;\r\n            this.device = res;\r\n          }\r\n        }, e => {\r\n          this.message = 'error while fetching device';\r\n          this.device = null;\r\n        });\r\n    }\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3JlZ2lzdGVyL3JlZ2lzdGVyLWRldmljZS9yZWdpc3Rlci1kZXZpY2UuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FetchData } from 'src/app/shared/services/fetch-data';\r\n\r\n@Component({\r\n  selector: 'app-register-device',\r\n  templateUrl: './register-device.component.html',\r\n  styleUrls: ['./register-device.component.css']\r\n})\r\nexport class RegisterDeviceComponent implements OnInit {\r\n\r\n  constructor(private fetchData: FetchData) { }\r\n\r\n  deviceId: string;\r\n  boards: any = [];\r\n  message: any = null;\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  register() {\r\n    this.message = null;\r\n    if (this.deviceId) {\r\n      this.fetchData.postDevice({deviceId: this.deviceId, boards: this.boards}).subscribe(res => {\r\n        console.log(res);\r\n        this.deviceId = null;\r\n        this.message = `device added succesfully - ` + res.deviceId;\r\n      }, e => {\r\n        this.message = (e && e.error && e.error.error && e.error.error.message) ? e.error.error.message : 'error while adding device';\r\n      });\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}