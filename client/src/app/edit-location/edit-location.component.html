<!--  <pre>
  {{location|json}}
</pre> -->
<!--
+++++++
=======
+++++++
<pre>
  {{onlineDevices | json}}
</pre>
{{error}}
 -->
 <div style="padding:15px">

   <div class="container">
     <div class="row">
       <div style="padding: 15px 0px;
       margin-bottom: 46px;" class="col-12">
         <h3 *ngIf="!editName">
           {{location.name}} <i (click)="editName=!editName" style="margin-left:10px;font-size:16px"  class="fas fa-pencil-alt"></i>
           <i  (click)="deleteLocation()" style="margin-left:10px;font-size:16px" class="fas fa-trash-alt"></i>
         </h3>
         <h3  *ngIf="editName">
           <input type="text" name="name" id="location-name" [(ngModel)]="location.name">
           <i style="margin-left:10px;font-size:16px"  (click)="saveName()" class="fas fa-check"></i>
         </h3>

       </div>
     </div>
     <div class="row">
       <div style="color:#2d4059!important;padding: 0px;" class="col-12">
         <div style="    padding: 15px 10px;
         display: flex;
         align-items: center;
         font-weight: bold;
         border: 1.5px solid #2d4059!important;
         margin-bottom: 25px;" (click)="addSwitch()">
          <i style="font-size: 35px;margin-right:15px" class="far fa-plus-square"></i>  Add switch
        </div>
       </div>
     </div>
     <div style="margin-bottom: 75px;" class="row">
       <ng-container *ngIf="location&&location.switches&&location.switches.length&&onlineDevices">
         <ng-container *ngFor="let switch of location.switches">
           <div *ngIf="onlineDevices[switch.deviceId]&&onlineDevices[switch.deviceId][switch.board]&&
           onlineDevices[switch.deviceId][switch.board].switches&&
           onlineDevices[switch.deviceId][switch.board].switches[switch.switch]!=undefined&&
           onlineDevices[switch.deviceId][switch.board].switches[switch.switch]!=null"
           style="display: flex;
           /* background: #393e46; */
           color: #393e46;
           padding: 15px 15px;
           font-size: 18px;
           border-bottom: 1px solid #393e4630;
           align-items: center;" class="col-12">
           <span *ngIf="!switch.edit">
            {{switch.name}} <i (click)="switch.edit=true" style="margin-left:10px;font-size:16px"  class="fas fa-pencil-alt"></i>
            <i  (click)="deleteSwitch(switch)" style="margin-left:10px;font-size:16px" class="fas fa-trash-alt"></i>
           </span>
          <span  *ngIf="switch.edit">
            <input type="text" name="name" id="location-name" [(ngModel)]="switch.name">
            <i style="margin-left:10px;font-size:16px"  (click)="saveSwitch(switch)" class="fas fa-check"></i>
          </span>
             <label class="switch">
               <input (click)="toggle(switch,onlineDevices[switch.deviceId][switch.board].switches[switch.switch])" [(ngModel)]="onlineDevices[switch.deviceId][switch.board].switches[switch.switch]" type="checkbox">
               <span class="slider round"></span>
             </label>
           </div>
         </ng-container>
       </ng-container>
     </div>
   </div>

 </div>
